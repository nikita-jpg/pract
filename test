<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">



    <style>
        .line-number {
          min-width: 20px;
          display: inline-block;
          text-align: right;
          margin-right: 10px;
          color: #999;
        }
      
        .line {
          display: inline;
        }
      
        .line.added {
          background-color: #dcffe4;
        }
      
        .line.removed {
          background-color: #ffeef0;
        }
      </style>
      

    <title>Code Diff Viewer</title>
  </head>
  <body>
    <div class="container mt-5">
        <div class="row">
          <div class="col-md-6">
            <pre id="old-code" class="border rounded bg-light p-2"></pre>
          </div>
          <div class="col-md-6">
            <pre id="new-code" class="border rounded bg-light p-2"></pre>
          </div>
        </div>
      </div>
      
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/diff/5.0.0/diff.min.js" integrity="sha512-/R6rRjhP8xUK5rgMs+E1zkJOnSRo3Nrp2En8OMN2Z6AGx0G4BLdY5JASNbLEK2wKNnyYHd0OLa0/DmB70/me3g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>



<script>
  const oldCode = `function helloWorld() {
  console.log('Hello, world!');
}`;

  const newCode = `function greet(name) {
  console.log('Hello, ' + name + '!');
}`;

  function displayCode(id, code, lines, prefix) {
    const container = $(id);
    const codeLines = code.split('\n');

    for (let i = 0; i < codeLines.length; i++) {
      container.append(
        `<p><span class="line-number">${lines[i]}</span><span class="line ${prefix}">${escapeHtml(
          codeLines[i]
        )}</span></p>`
      );
    }
  }

  function escapeHtml(unsafe) {
    return unsafe
      .replace(/&/g, '&amp;')
      .replace(/</g, '&lt;')
      .replace(/>/g, '&gt;')
      .replace(/"/g, '&quot;')
      .replace(/'/g, '&#039;');
  }

  // Загружаем содержимое файлов в соответствующие контейнеры
  displayCode('#old-code', oldCode, ['1', '2'], 'removed');
  displayCode('#new-code', newCode, ['1', '2'], 'added');
</script>

  </body>
</html>
